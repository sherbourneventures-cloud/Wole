{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":25},"end":{"line":2,"column":45,"index":70}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.requestUserMediaAsync = requestUserMediaAsync;\n  exports.getAnyUserMediaAsync = getAnyUserMediaAsync;\n  exports.canGetUserMedia = canGetUserMedia;\n  exports.isFrontCameraAvailableAsync = isFrontCameraAvailableAsync;\n  exports.isBackCameraAvailableAsync = isBackCameraAvailableAsync;\n  var _expoModulesCore = require(_dependencyMap[0], \"expo-modules-core\");\n  /* eslint-env browser */\n\n  async function sourceSelectedAsync(isMuted, audioConstraints, videoConstraints) {\n    const constraints = {\n      video: typeof videoConstraints !== 'undefined' ? videoConstraints : true\n    };\n    if (!isMuted) {\n      constraints.audio = typeof audioConstraints !== 'undefined' ? audioConstraints : true;\n    }\n    return await getAnyUserMediaAsync(constraints);\n  }\n  async function requestUserMediaAsync(props, isMuted = true) {\n    return await sourceSelectedAsync(isMuted, props.audio, props.video);\n  }\n  async function getAnyUserMediaAsync(constraints, ignoreConstraints = false) {\n    try {\n      return await navigator.mediaDevices.getUserMedia({\n        ...constraints,\n        video: ignoreConstraints || constraints.video\n      });\n    } catch (error) {\n      if (!ignoreConstraints && typeof error === 'object' && error?.name === 'ConstraintNotSatisfiedError') {\n        return await getAnyUserMediaAsync(constraints, true);\n      }\n      throw error;\n    }\n  }\n  function canGetUserMedia() {\n    return _expoModulesCore.Platform.isDOMAvailable && !!navigator.mediaDevices?.getUserMedia;\n  }\n  async function isFrontCameraAvailableAsync(devices) {\n    return await supportsCameraType(['front', 'user', 'facetime'], 'user', devices);\n  }\n  async function isBackCameraAvailableAsync(devices) {\n    return await supportsCameraType(['back', 'rear'], 'environment', devices);\n  }\n  async function supportsCameraType(labels, type, devices) {\n    if (!devices) {\n      if (!navigator.mediaDevices.enumerateDevices) {\n        return null;\n      }\n      devices = await navigator.mediaDevices.enumerateDevices();\n    }\n    const cameras = devices.filter(t => t.kind === 'videoinput');\n    const [hasCamera] = cameras.filter(camera => labels.some(label => camera.label.toLowerCase().includes(label)));\n    const [isCapable] = cameras.filter(camera => {\n      if (!('getCapabilities' in camera)) {\n        return null;\n      }\n      const capabilities = camera.getCapabilities();\n      if (!capabilities.facingMode) {\n        return null;\n      }\n      return capabilities.facingMode.find(_ => type);\n    });\n    return isCapable?.deviceId || hasCamera?.deviceId || null;\n  }\n});","lineCount":70,"map":[[7,2,12,0,"exports"],[7,9,12,0],[7,10,12,0,"requestUserMediaAsync"],[7,31,12,0],[7,34,12,0,"requestUserMediaAsync"],[7,55,12,0],[8,2,15,0,"exports"],[8,9,15,0],[8,10,15,0,"getAnyUserMediaAsync"],[8,30,15,0],[8,33,15,0,"getAnyUserMediaAsync"],[8,53,15,0],[9,2,31,0,"exports"],[9,9,31,0],[9,10,31,0,"canGetUserMedia"],[9,25,31,0],[9,28,31,0,"canGetUserMedia"],[9,43,31,0],[10,2,34,0,"exports"],[10,9,34,0],[10,10,34,0,"isFrontCameraAvailableAsync"],[10,37,34,0],[10,40,34,0,"isFrontCameraAvailableAsync"],[10,67,34,0],[11,2,37,0,"exports"],[11,9,37,0],[11,10,37,0,"isBackCameraAvailableAsync"],[11,36,37,0],[11,39,37,0,"isBackCameraAvailableAsync"],[11,65,37,0],[12,2,2,0],[12,6,2,0,"_expoModulesCore"],[12,22,2,0],[12,25,2,0,"require"],[12,32,2,0],[12,33,2,0,"_dependencyMap"],[12,47,2,0],[13,2,1,0],[15,2,3,0],[15,17,3,15,"sourceSelectedAsync"],[15,36,3,34,"sourceSelectedAsync"],[15,37,3,35,"isMuted"],[15,44,3,42],[15,46,3,44,"audioConstraints"],[15,62,3,60],[15,64,3,62,"videoConstraints"],[15,80,3,78],[15,82,3,80],[16,4,4,4],[16,10,4,10,"constraints"],[16,21,4,21],[16,24,4,24],[17,6,5,8,"video"],[17,11,5,13],[17,13,5,15],[17,20,5,22,"videoConstraints"],[17,36,5,38],[17,41,5,43],[17,52,5,54],[17,55,5,57,"videoConstraints"],[17,71,5,73],[17,74,5,76],[18,4,6,4],[18,5,6,5],[19,4,7,4],[19,8,7,8],[19,9,7,9,"isMuted"],[19,16,7,16],[19,18,7,18],[20,6,8,8,"constraints"],[20,17,8,19],[20,18,8,20,"audio"],[20,23,8,25],[20,26,8,28],[20,33,8,35,"audioConstraints"],[20,49,8,51],[20,54,8,56],[20,65,8,67],[20,68,8,70,"audioConstraints"],[20,84,8,86],[20,87,8,89],[20,91,8,93],[21,4,9,4],[22,4,10,4],[22,11,10,11],[22,17,10,17,"getAnyUserMediaAsync"],[22,37,10,37],[22,38,10,38,"constraints"],[22,49,10,49],[22,50,10,50],[23,2,11,0],[24,2,12,7],[24,17,12,22,"requestUserMediaAsync"],[24,38,12,43,"requestUserMediaAsync"],[24,39,12,44,"props"],[24,44,12,49],[24,46,12,51,"isMuted"],[24,53,12,58],[24,56,12,61],[24,60,12,65],[24,62,12,67],[25,4,13,4],[25,11,13,11],[25,17,13,17,"sourceSelectedAsync"],[25,36,13,36],[25,37,13,37,"isMuted"],[25,44,13,44],[25,46,13,46,"props"],[25,51,13,51],[25,52,13,52,"audio"],[25,57,13,57],[25,59,13,59,"props"],[25,64,13,64],[25,65,13,65,"video"],[25,70,13,70],[25,71,13,71],[26,2,14,0],[27,2,15,7],[27,17,15,22,"getAnyUserMediaAsync"],[27,37,15,42,"getAnyUserMediaAsync"],[27,38,15,43,"constraints"],[27,49,15,54],[27,51,15,56,"ignoreConstraints"],[27,68,15,73],[27,71,15,76],[27,76,15,81],[27,78,15,83],[28,4,16,4],[28,8,16,8],[29,6,17,8],[29,13,17,15],[29,19,17,21,"navigator"],[29,28,17,30],[29,29,17,31,"mediaDevices"],[29,41,17,43],[29,42,17,44,"getUserMedia"],[29,54,17,56],[29,55,17,57],[30,8,18,12],[30,11,18,15,"constraints"],[30,22,18,26],[31,8,19,12,"video"],[31,13,19,17],[31,15,19,19,"ignoreConstraints"],[31,32,19,36],[31,36,19,40,"constraints"],[31,47,19,51],[31,48,19,52,"video"],[32,6,20,8],[32,7,20,9],[32,8,20,10],[33,4,21,4],[33,5,21,5],[33,6,22,4],[33,13,22,11,"error"],[33,18,22,16],[33,20,22,18],[34,6,23,8],[34,10,23,12],[34,11,23,13,"ignoreConstraints"],[34,28,23,30],[34,32,24,12],[34,39,24,19,"error"],[34,44,24,24],[34,49,24,29],[34,57,24,37],[34,61,25,12,"error"],[34,66,25,17],[34,68,25,19,"name"],[34,72,25,23],[34,77,25,28],[34,106,25,57],[34,108,25,59],[35,8,26,12],[35,15,26,19],[35,21,26,25,"getAnyUserMediaAsync"],[35,41,26,45],[35,42,26,46,"constraints"],[35,53,26,57],[35,55,26,59],[35,59,26,63],[35,60,26,64],[36,6,27,8],[37,6,28,8],[37,12,28,14,"error"],[37,17,28,19],[38,4,29,4],[39,2,30,0],[40,2,31,7],[40,11,31,16,"canGetUserMedia"],[40,26,31,31,"canGetUserMedia"],[40,27,31,31],[40,29,31,34],[41,4,32,4],[41,11,32,11,"Platform"],[41,27,32,19],[41,28,32,19,"Platform"],[41,36,32,19],[41,37,32,20,"isDOMAvailable"],[41,51,32,34],[41,55,32,38],[41,56,32,39],[41,57,32,40,"navigator"],[41,66,32,49],[41,67,32,50,"mediaDevices"],[41,79,32,62],[41,81,32,64,"getUserMedia"],[41,93,32,76],[42,2,33,0],[43,2,34,7],[43,17,34,22,"isFrontCameraAvailableAsync"],[43,44,34,49,"isFrontCameraAvailableAsync"],[43,45,34,50,"devices"],[43,52,34,57],[43,54,34,59],[44,4,35,4],[44,11,35,11],[44,17,35,17,"supportsCameraType"],[44,35,35,35],[44,36,35,36],[44,37,35,37],[44,44,35,44],[44,46,35,46],[44,52,35,52],[44,54,35,54],[44,64,35,64],[44,65,35,65],[44,67,35,67],[44,73,35,73],[44,75,35,75,"devices"],[44,82,35,82],[44,83,35,83],[45,2,36,0],[46,2,37,7],[46,17,37,22,"isBackCameraAvailableAsync"],[46,43,37,48,"isBackCameraAvailableAsync"],[46,44,37,49,"devices"],[46,51,37,56],[46,53,37,58],[47,4,38,4],[47,11,38,11],[47,17,38,17,"supportsCameraType"],[47,35,38,35],[47,36,38,36],[47,37,38,37],[47,43,38,43],[47,45,38,45],[47,51,38,51],[47,52,38,52],[47,54,38,54],[47,67,38,67],[47,69,38,69,"devices"],[47,76,38,76],[47,77,38,77],[48,2,39,0],[49,2,40,0],[49,17,40,15,"supportsCameraType"],[49,35,40,33,"supportsCameraType"],[49,36,40,34,"labels"],[49,42,40,40],[49,44,40,42,"type"],[49,48,40,46],[49,50,40,48,"devices"],[49,57,40,55],[49,59,40,57],[50,4,41,4],[50,8,41,8],[50,9,41,9,"devices"],[50,16,41,16],[50,18,41,18],[51,6,42,8],[51,10,42,12],[51,11,42,13,"navigator"],[51,20,42,22],[51,21,42,23,"mediaDevices"],[51,33,42,35],[51,34,42,36,"enumerateDevices"],[51,50,42,52],[51,52,42,54],[52,8,43,12],[52,15,43,19],[52,19,43,23],[53,6,44,8],[54,6,45,8,"devices"],[54,13,45,15],[54,16,45,18],[54,22,45,24,"navigator"],[54,31,45,33],[54,32,45,34,"mediaDevices"],[54,44,45,46],[54,45,45,47,"enumerateDevices"],[54,61,45,63],[54,62,45,64],[54,63,45,65],[55,4,46,4],[56,4,47,4],[56,10,47,10,"cameras"],[56,17,47,17],[56,20,47,20,"devices"],[56,27,47,27],[56,28,47,28,"filter"],[56,34,47,34],[56,35,47,36,"t"],[56,36,47,37],[56,40,47,42,"t"],[56,41,47,43],[56,42,47,44,"kind"],[56,46,47,48],[56,51,47,53],[56,63,47,65],[56,64,47,66],[57,4,48,4],[57,10,48,10],[57,11,48,11,"hasCamera"],[57,20,48,20],[57,21,48,21],[57,24,48,24,"cameras"],[57,31,48,31],[57,32,48,32,"filter"],[57,38,48,38],[57,39,48,40,"camera"],[57,45,48,46],[57,49,48,51,"labels"],[57,55,48,57],[57,56,48,58,"some"],[57,60,48,62],[57,61,48,64,"label"],[57,66,48,69],[57,70,48,74,"camera"],[57,76,48,80],[57,77,48,81,"label"],[57,82,48,86],[57,83,48,87,"toLowerCase"],[57,94,48,98],[57,95,48,99],[57,96,48,100],[57,97,48,101,"includes"],[57,105,48,109],[57,106,48,110,"label"],[57,111,48,115],[57,112,48,116],[57,113,48,117],[57,114,48,118],[58,4,49,4],[58,10,49,10],[58,11,49,11,"isCapable"],[58,20,49,20],[58,21,49,21],[58,24,49,24,"cameras"],[58,31,49,31],[58,32,49,32,"filter"],[58,38,49,38],[58,39,49,40,"camera"],[58,45,49,46],[58,49,49,51],[59,6,50,8],[59,10,50,12],[59,12,50,14],[59,29,50,31],[59,33,50,35,"camera"],[59,39,50,41],[59,40,50,42],[59,42,50,44],[60,8,51,12],[60,15,51,19],[60,19,51,23],[61,6,52,8],[62,6,53,8],[62,12,53,14,"capabilities"],[62,24,53,26],[62,27,53,29,"camera"],[62,33,53,35],[62,34,53,36,"getCapabilities"],[62,49,53,51],[62,50,53,52],[62,51,53,53],[63,6,54,8],[63,10,54,12],[63,11,54,13,"capabilities"],[63,23,54,25],[63,24,54,26,"facingMode"],[63,34,54,36],[63,36,54,38],[64,8,55,12],[64,15,55,19],[64,19,55,23],[65,6,56,8],[66,6,57,8],[66,13,57,15,"capabilities"],[66,25,57,27],[66,26,57,28,"facingMode"],[66,36,57,38],[66,37,57,39,"find"],[66,41,57,43],[66,42,57,45,"_"],[66,43,57,46],[66,47,57,51,"type"],[66,51,57,55],[66,52,57,56],[67,4,58,4],[67,5,58,5],[67,6,58,6],[68,4,59,4],[68,11,59,11,"isCapable"],[68,20,59,20],[68,22,59,22,"deviceId"],[68,30,59,30],[68,34,59,34,"hasCamera"],[68,43,59,43],[68,45,59,45,"deviceId"],[68,53,59,53],[68,57,59,57],[68,61,59,61],[69,2,60,0],[70,0,60,1],[70,3]],"functionMap":{"names":["<global>","sourceSelectedAsync","requestUserMediaAsync","getAnyUserMediaAsync","canGetUserMedia","isFrontCameraAvailableAsync","isBackCameraAvailableAsync","supportsCameraType","devices.filter$argument_0","cameras.filter$argument_0","labels.some$argument_0","capabilities.facingMode.find$argument_0"],"mappings":"AAA;ACE;CDQ;OEC;CFE;OGC;CHe;OIC;CJE;OKC;CLE;OMC;CNE;AOC;mCCO,8BD;uCEC,wBC,qDD,CF;uCEC;4CEQ,WF;KFC;CPE"},"hasCjsExports":false},"type":"js/module"}]}