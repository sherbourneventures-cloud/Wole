{"dependencies":[{"name":"barcode-detector","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":46,"column":38,"index":1602},"end":{"line":46,"column":64,"index":1628}}],"key":"sTUDmo0HHUhokTNFjLNHOH8yLpg=","exportNames":["*"],"imports":1}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":46,"column":32,"index":1596},"end":{"line":46,"column":64,"index":1628}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"ALL_BARCODE_TYPES\", {\n    enumerable: true,\n    get: function () {\n      return ALL_BARCODE_TYPES;\n    }\n  });\n  exports.detect = detect;\n  /**\n   * Mapping from expo BarcodeType to BarcodeDetector format string.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Barcode_Detection_API#supported_barcode_formats\n   */\n  const EXPO_TO_WEB_FORMAT = {\n    aztec: 'aztec',\n    codabar: 'codabar',\n    code39: 'code_39',\n    code93: 'code_93',\n    code128: 'code_128',\n    datamatrix: 'data_matrix',\n    ean8: 'ean_8',\n    ean13: 'ean_13',\n    itf14: 'itf',\n    pdf417: 'pdf417',\n    qr: 'qr_code',\n    upc_a: 'upc_a',\n    upc_e: 'upc_e'\n  };\n  const WEB_TO_EXPO_FORMAT = Object.fromEntries(Object.entries(EXPO_TO_WEB_FORMAT).map(([expo, web]) => [web, expo]));\n  const ALL_BARCODE_TYPES = Object.keys(EXPO_TO_WEB_FORMAT);\n  let cachedDetector = null;\n  let cachedFormats = null;\n  function formatsChanged(barcodeTypes) {\n    const webFormats = barcodeTypes.map(t => EXPO_TO_WEB_FORMAT[t]).sort();\n    if (!cachedFormats) {\n      return true;\n    }\n    if (cachedFormats.length !== webFormats.length) {\n      return true;\n    }\n    return webFormats.some((f, i) => f !== cachedFormats[i]);\n  }\n  async function getDetector(barcodeTypes) {\n    if (cachedDetector && !formatsChanged(barcodeTypes)) {\n      return cachedDetector;\n    }\n    const webFormats = barcodeTypes.map(t => EXPO_TO_WEB_FORMAT[t]);\n    cachedFormats = [...webFormats].sort();\n    const NativeBarcodeDetector = globalThis.BarcodeDetector;\n    if (typeof NativeBarcodeDetector !== 'undefined') {\n      const detector = new NativeBarcodeDetector({\n        formats: webFormats\n      });\n      cachedDetector = detector;\n      return detector;\n    }\n    const {\n      BarcodeDetector\n    } = await require(_dependencyMap[1], \"expo/internal/async-require-module\")(_dependencyMap[0], _dependencyMap.paths, \"barcode-detector\");\n    const detector = new BarcodeDetector({\n      formats: webFormats\n    });\n    cachedDetector = detector;\n    return detector;\n  }\n  async function detect(source, barcodeTypes) {\n    const detector = await getDetector(barcodeTypes);\n    const barcodes = await detector.detect(source);\n    return barcodes.map(barcode => {\n      const {\n        x,\n        y,\n        width,\n        height\n      } = barcode.boundingBox;\n      return {\n        type: WEB_TO_EXPO_FORMAT[barcode.format] ?? barcode.format,\n        data: barcode.rawValue,\n        bounds: {\n          origin: {\n            x,\n            y\n          },\n          size: {\n            width,\n            height\n          }\n        },\n        cornerPoints: barcode.cornerPoints?.map(p => ({\n          x: p.x,\n          y: p.y\n        })) ?? []\n      };\n    });\n  }\n});","lineCount":100,"map":[[7,2,21,0,"Object"],[7,8,21,0],[7,9,21,0,"defineProperty"],[7,23,21,0],[7,24,21,0,"exports"],[7,31,21,0],[8,4,21,0,"enumerable"],[8,14,21,0],[9,4,21,0,"get"],[9,7,21,0],[9,18,21,0,"get"],[9,19,21,0],[10,6,21,0],[10,13,21,0,"ALL_BARCODE_TYPES"],[10,30,21,0],[11,4,21,0],[12,2,21,0],[13,2,51,0,"exports"],[13,9,51,0],[13,10,51,0,"detect"],[13,16,51,0],[13,19,51,0,"detect"],[13,25,51,0],[14,2,1,0],[15,0,2,0],[16,0,3,0],[17,0,4,0],[18,2,5,0],[18,8,5,6,"EXPO_TO_WEB_FORMAT"],[18,26,5,24],[18,29,5,27],[19,4,6,4,"aztec"],[19,9,6,9],[19,11,6,11],[19,18,6,18],[20,4,7,4,"codabar"],[20,11,7,11],[20,13,7,13],[20,22,7,22],[21,4,8,4,"code39"],[21,10,8,10],[21,12,8,12],[21,21,8,21],[22,4,9,4,"code93"],[22,10,9,10],[22,12,9,12],[22,21,9,21],[23,4,10,4,"code128"],[23,11,10,11],[23,13,10,13],[23,23,10,23],[24,4,11,4,"datamatrix"],[24,14,11,14],[24,16,11,16],[24,29,11,29],[25,4,12,4,"ean8"],[25,8,12,8],[25,10,12,10],[25,17,12,17],[26,4,13,4,"ean13"],[26,9,13,9],[26,11,13,11],[26,19,13,19],[27,4,14,4,"itf14"],[27,9,14,9],[27,11,14,11],[27,16,14,16],[28,4,15,4,"pdf417"],[28,10,15,10],[28,12,15,12],[28,20,15,20],[29,4,16,4,"qr"],[29,6,16,6],[29,8,16,8],[29,17,16,17],[30,4,17,4,"upc_a"],[30,9,17,9],[30,11,17,11],[30,18,17,18],[31,4,18,4,"upc_e"],[31,9,18,9],[31,11,18,11],[32,2,19,0],[32,3,19,1],[33,2,20,0],[33,8,20,6,"WEB_TO_EXPO_FORMAT"],[33,26,20,24],[33,29,20,27,"Object"],[33,35,20,33],[33,36,20,34,"fromEntries"],[33,47,20,45],[33,48,20,46,"Object"],[33,54,20,52],[33,55,20,53,"entries"],[33,62,20,60],[33,63,20,61,"EXPO_TO_WEB_FORMAT"],[33,81,20,79],[33,82,20,80],[33,83,20,81,"map"],[33,86,20,84],[33,87,20,85],[33,88,20,86],[33,89,20,87,"expo"],[33,93,20,91],[33,95,20,93,"web"],[33,98,20,96],[33,99,20,97],[33,104,20,102],[33,105,20,103,"web"],[33,108,20,106],[33,110,20,108,"expo"],[33,114,20,112],[33,115,20,113],[33,116,20,114],[33,117,20,115],[34,2,21,7],[34,8,21,13,"ALL_BARCODE_TYPES"],[34,25,21,30],[34,28,21,33,"Object"],[34,34,21,39],[34,35,21,40,"keys"],[34,39,21,44],[34,40,21,45,"EXPO_TO_WEB_FORMAT"],[34,58,21,63],[34,59,21,64],[35,2,22,0],[35,6,22,4,"cachedDetector"],[35,20,22,18],[35,23,22,21],[35,27,22,25],[36,2,23,0],[36,6,23,4,"cachedFormats"],[36,19,23,17],[36,22,23,20],[36,26,23,24],[37,2,24,0],[37,11,24,9,"formatsChanged"],[37,25,24,23,"formatsChanged"],[37,26,24,24,"barcodeTypes"],[37,38,24,36],[37,40,24,38],[38,4,25,4],[38,10,25,10,"webFormats"],[38,20,25,20],[38,23,25,23,"barcodeTypes"],[38,35,25,35],[38,36,25,36,"map"],[38,39,25,39],[38,40,25,41,"t"],[38,41,25,42],[38,45,25,47,"EXPO_TO_WEB_FORMAT"],[38,63,25,65],[38,64,25,66,"t"],[38,65,25,67],[38,66,25,68],[38,67,25,69],[38,68,25,70,"sort"],[38,72,25,74],[38,73,25,75],[38,74,25,76],[39,4,26,4],[39,8,26,8],[39,9,26,9,"cachedFormats"],[39,22,26,22],[39,24,26,24],[40,6,27,8],[40,13,27,15],[40,17,27,19],[41,4,28,4],[42,4,29,4],[42,8,29,8,"cachedFormats"],[42,21,29,21],[42,22,29,22,"length"],[42,28,29,28],[42,33,29,33,"webFormats"],[42,43,29,43],[42,44,29,44,"length"],[42,50,29,50],[42,52,29,52],[43,6,30,8],[43,13,30,15],[43,17,30,19],[44,4,31,4],[45,4,32,4],[45,11,32,11,"webFormats"],[45,21,32,21],[45,22,32,22,"some"],[45,26,32,26],[45,27,32,27],[45,28,32,28,"f"],[45,29,32,29],[45,31,32,31,"i"],[45,32,32,32],[45,37,32,37,"f"],[45,38,32,38],[45,43,32,43,"cachedFormats"],[45,56,32,56],[45,57,32,57,"i"],[45,58,32,58],[45,59,32,59],[45,60,32,60],[46,2,33,0],[47,2,34,0],[47,17,34,15,"getDetector"],[47,28,34,26,"getDetector"],[47,29,34,27,"barcodeTypes"],[47,41,34,39],[47,43,34,41],[48,4,35,4],[48,8,35,8,"cachedDetector"],[48,22,35,22],[48,26,35,26],[48,27,35,27,"formatsChanged"],[48,41,35,41],[48,42,35,42,"barcodeTypes"],[48,54,35,54],[48,55,35,55],[48,57,35,57],[49,6,36,8],[49,13,36,15,"cachedDetector"],[49,27,36,29],[50,4,37,4],[51,4,38,4],[51,10,38,10,"webFormats"],[51,20,38,20],[51,23,38,23,"barcodeTypes"],[51,35,38,35],[51,36,38,36,"map"],[51,39,38,39],[51,40,38,41,"t"],[51,41,38,42],[51,45,38,47,"EXPO_TO_WEB_FORMAT"],[51,63,38,65],[51,64,38,66,"t"],[51,65,38,67],[51,66,38,68],[51,67,38,69],[52,4,39,4,"cachedFormats"],[52,17,39,17],[52,20,39,20],[52,21,39,21],[52,24,39,24,"webFormats"],[52,34,39,34],[52,35,39,35],[52,36,39,36,"sort"],[52,40,39,40],[52,41,39,41],[52,42,39,42],[53,4,40,4],[53,10,40,10,"NativeBarcodeDetector"],[53,31,40,31],[53,34,40,34,"globalThis"],[53,44,40,44],[53,45,40,45,"BarcodeDetector"],[53,60,40,60],[54,4,41,4],[54,8,41,8],[54,15,41,15,"NativeBarcodeDetector"],[54,36,41,36],[54,41,41,41],[54,52,41,52],[54,54,41,54],[55,6,42,8],[55,12,42,14,"detector"],[55,20,42,22],[55,23,42,25],[55,27,42,29,"NativeBarcodeDetector"],[55,48,42,50],[55,49,42,51],[56,8,42,53,"formats"],[56,15,42,60],[56,17,42,62,"webFormats"],[57,6,42,73],[57,7,42,74],[57,8,42,75],[58,6,43,8,"cachedDetector"],[58,20,43,22],[58,23,43,25,"detector"],[58,31,43,33],[59,6,44,8],[59,13,44,15,"detector"],[59,21,44,23],[60,4,45,4],[61,4,46,4],[61,10,46,10],[62,6,46,12,"BarcodeDetector"],[63,4,46,28],[63,5,46,29],[63,8,46,32],[63,14,46,32,"require"],[63,21,46,32],[63,22,46,32,"_dependencyMap"],[63,36,46,32],[63,79,46,32,"_dependencyMap"],[63,93,46,32],[63,98,46,32,"_dependencyMap"],[63,112,46,32],[63,113,46,32,"paths"],[63,118,46,32],[63,139,46,64],[64,4,47,4],[64,10,47,10,"detector"],[64,18,47,18],[64,21,47,21],[64,25,47,25,"BarcodeDetector"],[64,40,47,40],[64,41,47,41],[65,6,47,43,"formats"],[65,13,47,50],[65,15,47,52,"webFormats"],[66,4,47,63],[66,5,47,64],[66,6,47,65],[67,4,48,4,"cachedDetector"],[67,18,48,18],[67,21,48,21,"detector"],[67,29,48,29],[68,4,49,4],[68,11,49,11,"detector"],[68,19,49,19],[69,2,50,0],[70,2,51,7],[70,17,51,22,"detect"],[70,23,51,28,"detect"],[70,24,51,29,"source"],[70,30,51,35],[70,32,51,37,"barcodeTypes"],[70,44,51,49],[70,46,51,51],[71,4,52,4],[71,10,52,10,"detector"],[71,18,52,18],[71,21,52,21],[71,27,52,27,"getDetector"],[71,38,52,38],[71,39,52,39,"barcodeTypes"],[71,51,52,51],[71,52,52,52],[72,4,53,4],[72,10,53,10,"barcodes"],[72,18,53,18],[72,21,53,21],[72,27,53,27,"detector"],[72,35,53,35],[72,36,53,36,"detect"],[72,42,53,42],[72,43,53,43,"source"],[72,49,53,49],[72,50,53,50],[73,4,54,4],[73,11,54,11,"barcodes"],[73,19,54,19],[73,20,54,20,"map"],[73,23,54,23],[73,24,54,25,"barcode"],[73,31,54,32],[73,35,54,37],[74,6,55,8],[74,12,55,14],[75,8,55,16,"x"],[75,9,55,17],[76,8,55,19,"y"],[76,9,55,20],[77,8,55,22,"width"],[77,13,55,27],[78,8,55,29,"height"],[79,6,55,36],[79,7,55,37],[79,10,55,40,"barcode"],[79,17,55,47],[79,18,55,48,"boundingBox"],[79,29,55,59],[80,6,56,8],[80,13,56,15],[81,8,57,12,"type"],[81,12,57,16],[81,14,57,18,"WEB_TO_EXPO_FORMAT"],[81,32,57,36],[81,33,57,37,"barcode"],[81,40,57,44],[81,41,57,45,"format"],[81,47,57,51],[81,48,57,52],[81,52,57,56,"barcode"],[81,59,57,63],[81,60,57,64,"format"],[81,66,57,70],[82,8,58,12,"data"],[82,12,58,16],[82,14,58,18,"barcode"],[82,21,58,25],[82,22,58,26,"rawValue"],[82,30,58,34],[83,8,59,12,"bounds"],[83,14,59,18],[83,16,59,20],[84,10,60,16,"origin"],[84,16,60,22],[84,18,60,24],[85,12,60,26,"x"],[85,13,60,27],[86,12,60,29,"y"],[87,10,60,31],[87,11,60,32],[88,10,61,16,"size"],[88,14,61,20],[88,16,61,22],[89,12,61,24,"width"],[89,17,61,29],[90,12,61,31,"height"],[91,10,61,38],[92,8,62,12],[92,9,62,13],[93,8,63,12,"cornerPoints"],[93,20,63,24],[93,22,63,26,"barcode"],[93,29,63,33],[93,30,63,34,"cornerPoints"],[93,42,63,46],[93,44,63,48,"map"],[93,47,63,51],[93,48,63,53,"p"],[93,49,63,54],[93,54,63,60],[94,10,63,62,"x"],[94,11,63,63],[94,13,63,65,"p"],[94,14,63,66],[94,15,63,67,"x"],[94,16,63,68],[95,10,63,70,"y"],[95,11,63,71],[95,13,63,73,"p"],[95,14,63,74],[95,15,63,75,"y"],[96,8,63,77],[96,9,63,78],[96,10,63,79],[96,11,63,80],[96,15,63,84],[97,6,64,8],[97,7,64,9],[98,4,65,4],[98,5,65,5],[98,6,65,6],[99,2,66,0],[100,0,66,1],[100,3]],"functionMap":{"names":["<global>","Object.entries.map$argument_0","formatsChanged","barcodeTypes.map$argument_0","webFormats.some$argument_0","getDetector","detect","barcodes.map$argument_0","barcode.cornerPoints.map$argument_0"],"mappings":"AAA;qFCmB,4BD;AEI;wCCC,4BD;2BEO,gCF;CFC;AKC;wCFI,4BE;CLY;OMC;wBCG;oDCS,2BD;KDE;CNC"},"hasCjsExports":false},"type":"js/module"}]}