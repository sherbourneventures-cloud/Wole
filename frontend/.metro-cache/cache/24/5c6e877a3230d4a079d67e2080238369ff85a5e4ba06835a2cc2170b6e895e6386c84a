{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":25},"end":{"line":2,"column":45,"index":70}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.requestUserMediaAsync = requestUserMediaAsync;\n  exports.getAnyUserMediaAsync = getAnyUserMediaAsync;\n  exports.canGetUserMedia = canGetUserMedia;\n  exports.isFrontCameraAvailableAsync = isFrontCameraAvailableAsync;\n  exports.isBackCameraAvailableAsync = isBackCameraAvailableAsync;\n  var _expoModulesCore = require(_dependencyMap[0], \"expo-modules-core\");\n  /* eslint-env browser */\n\n  async function sourceSelectedAsync(isMuted, audioConstraints, videoConstraints) {\n    const constraints = {\n      video: typeof videoConstraints !== 'undefined' ? videoConstraints : true\n    };\n    if (!isMuted) {\n      constraints.audio = typeof audioConstraints !== 'undefined' ? audioConstraints : true;\n    }\n    return await getAnyUserMediaAsync(constraints);\n  }\n  async function requestUserMediaAsync(props, isMuted = true) {\n    return await sourceSelectedAsync(isMuted, props.audio, props.video);\n  }\n  async function getAnyUserMediaAsync(constraints, ignoreConstraints = false) {\n    try {\n      return await navigator.mediaDevices.getUserMedia(Object.assign({}, constraints, {\n        video: ignoreConstraints || constraints.video\n      }));\n    } catch (error) {\n      if (!ignoreConstraints && typeof error === 'object' && error?.name === 'ConstraintNotSatisfiedError') {\n        return await getAnyUserMediaAsync(constraints, true);\n      }\n      throw error;\n    }\n  }\n  function canGetUserMedia() {\n    return _expoModulesCore.Platform.isDOMAvailable && !!navigator.mediaDevices?.getUserMedia;\n  }\n  async function isFrontCameraAvailableAsync(devices) {\n    return await supportsCameraType(['front', 'user', 'facetime'], 'user', devices);\n  }\n  async function isBackCameraAvailableAsync(devices) {\n    return await supportsCameraType(['back', 'rear'], 'environment', devices);\n  }\n  async function supportsCameraType(labels, type, devices) {\n    if (!devices) {\n      if (!navigator.mediaDevices.enumerateDevices) {\n        return null;\n      }\n      devices = await navigator.mediaDevices.enumerateDevices();\n    }\n    const cameras = devices.filter(t => t.kind === 'videoinput');\n    const [hasCamera] = cameras.filter(camera => labels.some(label => camera.label.toLowerCase().includes(label)));\n    const [isCapable] = cameras.filter(camera => {\n      if (!('getCapabilities' in camera)) {\n        return null;\n      }\n      const capabilities = camera.getCapabilities();\n      if (!capabilities.facingMode) {\n        return null;\n      }\n      return capabilities.facingMode.find(_ => type);\n    });\n    return isCapable?.deviceId || hasCamera?.deviceId || null;\n  }\n});","lineCount":69,"map":[[7,2,12,0,"exports"],[7,9,12,0],[7,10,12,0,"requestUserMediaAsync"],[7,31,12,0],[7,34,12,0,"requestUserMediaAsync"],[7,55,12,0],[8,2,15,0,"exports"],[8,9,15,0],[8,10,15,0,"getAnyUserMediaAsync"],[8,30,15,0],[8,33,15,0,"getAnyUserMediaAsync"],[8,53,15,0],[9,2,31,0,"exports"],[9,9,31,0],[9,10,31,0,"canGetUserMedia"],[9,25,31,0],[9,28,31,0,"canGetUserMedia"],[9,43,31,0],[10,2,34,0,"exports"],[10,9,34,0],[10,10,34,0,"isFrontCameraAvailableAsync"],[10,37,34,0],[10,40,34,0,"isFrontCameraAvailableAsync"],[10,67,34,0],[11,2,37,0,"exports"],[11,9,37,0],[11,10,37,0,"isBackCameraAvailableAsync"],[11,36,37,0],[11,39,37,0,"isBackCameraAvailableAsync"],[11,65,37,0],[12,2,2,0],[12,6,2,0,"_expoModulesCore"],[12,22,2,0],[12,25,2,0,"require"],[12,32,2,0],[12,33,2,0,"_dependencyMap"],[12,47,2,0],[13,2,1,0],[15,2,3,0],[15,17,3,15,"sourceSelectedAsync"],[15,36,3,34,"sourceSelectedAsync"],[15,37,3,35,"isMuted"],[15,44,3,42],[15,46,3,44,"audioConstraints"],[15,62,3,60],[15,64,3,62,"videoConstraints"],[15,80,3,78],[15,82,3,80],[16,4,4,4],[16,10,4,10,"constraints"],[16,21,4,21],[16,24,4,24],[17,6,5,8,"video"],[17,11,5,13],[17,13,5,15],[17,20,5,22,"videoConstraints"],[17,36,5,38],[17,41,5,43],[17,52,5,54],[17,55,5,57,"videoConstraints"],[17,71,5,73],[17,74,5,76],[18,4,6,4],[18,5,6,5],[19,4,7,4],[19,8,7,8],[19,9,7,9,"isMuted"],[19,16,7,16],[19,18,7,18],[20,6,8,8,"constraints"],[20,17,8,19],[20,18,8,20,"audio"],[20,23,8,25],[20,26,8,28],[20,33,8,35,"audioConstraints"],[20,49,8,51],[20,54,8,56],[20,65,8,67],[20,68,8,70,"audioConstraints"],[20,84,8,86],[20,87,8,89],[20,91,8,93],[21,4,9,4],[22,4,10,4],[22,11,10,11],[22,17,10,17,"getAnyUserMediaAsync"],[22,37,10,37],[22,38,10,38,"constraints"],[22,49,10,49],[22,50,10,50],[23,2,11,0],[24,2,12,7],[24,17,12,22,"requestUserMediaAsync"],[24,38,12,43,"requestUserMediaAsync"],[24,39,12,44,"props"],[24,44,12,49],[24,46,12,51,"isMuted"],[24,53,12,58],[24,56,12,61],[24,60,12,65],[24,62,12,67],[25,4,13,4],[25,11,13,11],[25,17,13,17,"sourceSelectedAsync"],[25,36,13,36],[25,37,13,37,"isMuted"],[25,44,13,44],[25,46,13,46,"props"],[25,51,13,51],[25,52,13,52,"audio"],[25,57,13,57],[25,59,13,59,"props"],[25,64,13,64],[25,65,13,65,"video"],[25,70,13,70],[25,71,13,71],[26,2,14,0],[27,2,15,7],[27,17,15,22,"getAnyUserMediaAsync"],[27,37,15,42,"getAnyUserMediaAsync"],[27,38,15,43,"constraints"],[27,49,15,54],[27,51,15,56,"ignoreConstraints"],[27,68,15,73],[27,71,15,76],[27,76,15,81],[27,78,15,83],[28,4,16,4],[28,8,16,8],[29,6,17,8],[29,13,17,15],[29,19,17,21,"navigator"],[29,28,17,30],[29,29,17,31,"mediaDevices"],[29,41,17,43],[29,42,17,44,"getUserMedia"],[29,54,17,56],[29,55,17,56,"Object"],[29,61,17,56],[29,62,17,56,"assign"],[29,68,17,56],[29,73,18,15,"constraints"],[29,84,18,26],[30,8,19,12,"video"],[30,13,19,17],[30,15,19,19,"ignoreConstraints"],[30,32,19,36],[30,36,19,40,"constraints"],[30,47,19,51],[30,48,19,52,"video"],[31,6,19,57],[31,8,20,9],[31,9,20,10],[32,4,21,4],[32,5,21,5],[32,6,22,4],[32,13,22,11,"error"],[32,18,22,16],[32,20,22,18],[33,6,23,8],[33,10,23,12],[33,11,23,13,"ignoreConstraints"],[33,28,23,30],[33,32,24,12],[33,39,24,19,"error"],[33,44,24,24],[33,49,24,29],[33,57,24,37],[33,61,25,12,"error"],[33,66,25,17],[33,68,25,19,"name"],[33,72,25,23],[33,77,25,28],[33,106,25,57],[33,108,25,59],[34,8,26,12],[34,15,26,19],[34,21,26,25,"getAnyUserMediaAsync"],[34,41,26,45],[34,42,26,46,"constraints"],[34,53,26,57],[34,55,26,59],[34,59,26,63],[34,60,26,64],[35,6,27,8],[36,6,28,8],[36,12,28,14,"error"],[36,17,28,19],[37,4,29,4],[38,2,30,0],[39,2,31,7],[39,11,31,16,"canGetUserMedia"],[39,26,31,31,"canGetUserMedia"],[39,27,31,31],[39,29,31,34],[40,4,32,4],[40,11,32,11,"Platform"],[40,27,32,19],[40,28,32,19,"Platform"],[40,36,32,19],[40,37,32,20,"isDOMAvailable"],[40,51,32,34],[40,55,32,38],[40,56,32,39],[40,57,32,40,"navigator"],[40,66,32,49],[40,67,32,50,"mediaDevices"],[40,79,32,62],[40,81,32,64,"getUserMedia"],[40,93,32,76],[41,2,33,0],[42,2,34,7],[42,17,34,22,"isFrontCameraAvailableAsync"],[42,44,34,49,"isFrontCameraAvailableAsync"],[42,45,34,50,"devices"],[42,52,34,57],[42,54,34,59],[43,4,35,4],[43,11,35,11],[43,17,35,17,"supportsCameraType"],[43,35,35,35],[43,36,35,36],[43,37,35,37],[43,44,35,44],[43,46,35,46],[43,52,35,52],[43,54,35,54],[43,64,35,64],[43,65,35,65],[43,67,35,67],[43,73,35,73],[43,75,35,75,"devices"],[43,82,35,82],[43,83,35,83],[44,2,36,0],[45,2,37,7],[45,17,37,22,"isBackCameraAvailableAsync"],[45,43,37,48,"isBackCameraAvailableAsync"],[45,44,37,49,"devices"],[45,51,37,56],[45,53,37,58],[46,4,38,4],[46,11,38,11],[46,17,38,17,"supportsCameraType"],[46,35,38,35],[46,36,38,36],[46,37,38,37],[46,43,38,43],[46,45,38,45],[46,51,38,51],[46,52,38,52],[46,54,38,54],[46,67,38,67],[46,69,38,69,"devices"],[46,76,38,76],[46,77,38,77],[47,2,39,0],[48,2,40,0],[48,17,40,15,"supportsCameraType"],[48,35,40,33,"supportsCameraType"],[48,36,40,34,"labels"],[48,42,40,40],[48,44,40,42,"type"],[48,48,40,46],[48,50,40,48,"devices"],[48,57,40,55],[48,59,40,57],[49,4,41,4],[49,8,41,8],[49,9,41,9,"devices"],[49,16,41,16],[49,18,41,18],[50,6,42,8],[50,10,42,12],[50,11,42,13,"navigator"],[50,20,42,22],[50,21,42,23,"mediaDevices"],[50,33,42,35],[50,34,42,36,"enumerateDevices"],[50,50,42,52],[50,52,42,54],[51,8,43,12],[51,15,43,19],[51,19,43,23],[52,6,44,8],[53,6,45,8,"devices"],[53,13,45,15],[53,16,45,18],[53,22,45,24,"navigator"],[53,31,45,33],[53,32,45,34,"mediaDevices"],[53,44,45,46],[53,45,45,47,"enumerateDevices"],[53,61,45,63],[53,62,45,64],[53,63,45,65],[54,4,46,4],[55,4,47,4],[55,10,47,10,"cameras"],[55,17,47,17],[55,20,47,20,"devices"],[55,27,47,27],[55,28,47,28,"filter"],[55,34,47,34],[55,35,47,36,"t"],[55,36,47,37],[55,40,47,42,"t"],[55,41,47,43],[55,42,47,44,"kind"],[55,46,47,48],[55,51,47,53],[55,63,47,65],[55,64,47,66],[56,4,48,4],[56,10,48,10],[56,11,48,11,"hasCamera"],[56,20,48,20],[56,21,48,21],[56,24,48,24,"cameras"],[56,31,48,31],[56,32,48,32,"filter"],[56,38,48,38],[56,39,48,40,"camera"],[56,45,48,46],[56,49,48,51,"labels"],[56,55,48,57],[56,56,48,58,"some"],[56,60,48,62],[56,61,48,64,"label"],[56,66,48,69],[56,70,48,74,"camera"],[56,76,48,80],[56,77,48,81,"label"],[56,82,48,86],[56,83,48,87,"toLowerCase"],[56,94,48,98],[56,95,48,99],[56,96,48,100],[56,97,48,101,"includes"],[56,105,48,109],[56,106,48,110,"label"],[56,111,48,115],[56,112,48,116],[56,113,48,117],[56,114,48,118],[57,4,49,4],[57,10,49,10],[57,11,49,11,"isCapable"],[57,20,49,20],[57,21,49,21],[57,24,49,24,"cameras"],[57,31,49,31],[57,32,49,32,"filter"],[57,38,49,38],[57,39,49,40,"camera"],[57,45,49,46],[57,49,49,51],[58,6,50,8],[58,10,50,12],[58,12,50,14],[58,29,50,31],[58,33,50,35,"camera"],[58,39,50,41],[58,40,50,42],[58,42,50,44],[59,8,51,12],[59,15,51,19],[59,19,51,23],[60,6,52,8],[61,6,53,8],[61,12,53,14,"capabilities"],[61,24,53,26],[61,27,53,29,"camera"],[61,33,53,35],[61,34,53,36,"getCapabilities"],[61,49,53,51],[61,50,53,52],[61,51,53,53],[62,6,54,8],[62,10,54,12],[62,11,54,13,"capabilities"],[62,23,54,25],[62,24,54,26,"facingMode"],[62,34,54,36],[62,36,54,38],[63,8,55,12],[63,15,55,19],[63,19,55,23],[64,6,56,8],[65,6,57,8],[65,13,57,15,"capabilities"],[65,25,57,27],[65,26,57,28,"facingMode"],[65,36,57,38],[65,37,57,39,"find"],[65,41,57,43],[65,42,57,45,"_"],[65,43,57,46],[65,47,57,51,"type"],[65,51,57,55],[65,52,57,56],[66,4,58,4],[66,5,58,5],[66,6,58,6],[67,4,59,4],[67,11,59,11,"isCapable"],[67,20,59,20],[67,22,59,22,"deviceId"],[67,30,59,30],[67,34,59,34,"hasCamera"],[67,43,59,43],[67,45,59,45,"deviceId"],[67,53,59,53],[67,57,59,57],[67,61,59,61],[68,2,60,0],[69,0,60,1],[69,3]],"functionMap":{"names":["<global>","sourceSelectedAsync","requestUserMediaAsync","getAnyUserMediaAsync","canGetUserMedia","isFrontCameraAvailableAsync","isBackCameraAvailableAsync","supportsCameraType","devices.filter$argument_0","cameras.filter$argument_0","labels.some$argument_0","capabilities.facingMode.find$argument_0"],"mappings":"AAA;ACE;CDQ;OEC;CFE;OGC;CHe;OIC;CJE;OKC;CLE;OMC;CNE;AOC;mCCO,8BD;uCEC,wBC,qDD,CF;uCEC;4CEQ,WF;KFC;CPE"},"hasCjsExports":false},"type":"js/module"}]}